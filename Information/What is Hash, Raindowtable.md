# What is Hash, RaindowTable

https://h1ggs.tistory.com/m/2

![]()

<br>

## Hash?

<br>

변환 전 문자열열은 평문, 변환 후 문자열은 해시 라고 부르게 된다.

sha1, md1, md5 등 해시 함수는 단방향 암호화 알고리즘으로 암호화는 가능하지만 복호화는 불가능한 암호화 기법이다. 해시함수라고도 불린다.

만약 해시 값이 노출되었더라도 평문의 데이터는 알 수 없다.

복호화가 되지 않는 암호화 알고리즘을 어디에 쓸 수 있나?

나는 처음 복호화가 되지 않는다는 말을 듣고 단점이 너무 쌘데? 생각했다. 하지만 복호화가 되지 않는 것은 단점이 아닌 장점이다.

비밀번호를 예시로 들어보자.

비밀번호를 SHA-1 로 암호화 했다고 가정해보자. 처음 비밀번호는 우리만 알고 있고 서버 DB에도 해시된 값으로 저장되게 된다. 이 후 다시 로그인 할때도 해시값과 비교하게 된다.

즉, 평문의 비밀번호는 사용자만 알고 있는 것이다.

어느순간부터는 비밀번호 찾기를 하면 비밀번호를 찾아주는 것이 아닌 새로운 비밀번호를 입력하게 된다. 대부분 단방향 알고리즘으로 암호화를 했기 때문이다.

<br>

## RainbowTable?

<br>

하지만 단방향 알고리즘도 취약점이 존재한다.

MD5을 예시로 들어보자

|문자|해시값|
|:---:|:---:|
|a|0cc175b9c0f1b6a831c399e269772661|
|b|92eb5ffee6ae2fec3ad71c777531578f|
|c|4a8a08f09d37b73795649038408b5f33|

MD5는 암복화 키가 존재하지 않는다. 그래서 위처럼 'a' 에 대한 해시값은 항상 동일하다. 

이점을 이용해서 문자에대한 해시값을 따로 저장해 놓은 것을 레인보우테이블이라고 한다.

레인보우테이블과 원래 구하려던 값을 비교하여 값을 찾는다.

하지만 레인보우테이블에도 한가지 문제점이 존재한다.

모든 경우의 대한 값을 해시 값으로 저장해야하기 때문에 용량이 너무 커지는 것이다.

단순히 8글자 소문자+숫자로 만든 테이블의 크기는 328GB이다. 아스키코드(대문자+소문자+숫자+특수문자)로 8글자 짜리의 레인보우 테이블은 47,225,249,742TB나 된다.